@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --font-serif: 'Crimson Pro', Georgia, 'Times New Roman', serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;

    /* Light mode - warm cream tones for comfortable reading */
    --background: 48 33% 97%;
    --foreground: 30 10% 18%;
    --foreground-muted: 30 6% 45%;
    --foreground-subtle: 30 4% 55%;
    --accent: 220 70% 45%;
    --accent-hover: 220 75% 35%;
    --code-background: 40 20% 94%;
    --code-foreground: 30 10% 25%;
    --border: 30 15% 88%;
    --selection: 45 60% 88%;
}

@media (prefers-color-scheme: dark) {
    :root {
        /* Dark mode - warm charcoal with soft ivory text */
        --background: 30 12% 7%;
        --foreground: 38 20% 85%;
        --foreground-muted: 30 10% 55%;
        --foreground-subtle: 30 8% 45%;
        --accent: 205 65% 65%;
        --accent-hover: 205 70% 75%;
        --code-background: 30 12% 11%;
        --code-foreground: 38 15% 75%;
        --border: 30 10% 18%;
        --selection: 30 25% 20%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    html {
        font-size: 18px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        color-scheme: light dark;
    }

    body {
        font-family: var(--font-serif);
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
        line-height: 1.75;
        letter-spacing: 0.01em;
        transition:
            background-color 0.2s ease,
            color 0.2s ease;
    }

    ::selection {
        background-color: hsl(var(--selection));
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-weight: 600;
        line-height: 1.3;
        letter-spacing: -0.02em;
    }

    code {
        font-family: var(--font-mono);
        font-size: 0.85em;
    }

    pre {
        font-family: var(--font-mono);
    }
}

@layer components {
    .nav-link {
        color: hsl(var(--foreground-muted));
        text-decoration: none;
        transition: color 0.15s ease;
    }

    .nav-link:hover {
        color: hsl(var(--foreground));
        text-decoration: none;
    }

    .content-link {
        color: hsl(var(--accent));
        text-decoration: none;
        transition: color 0.15s ease;
    }

    .content-link:hover {
        color: hsl(var(--accent-hover));
        text-decoration: underline;
        text-underline-offset: 3px;
        text-decoration-thickness: 1px;
    }

    .prose {
        max-width: 65ch;
        font-size: 1rem;
        line-height: 1.8;
    }

    .prose p {
        margin-bottom: 1.5em;
    }

    .prose h2 {
        font-size: 1.5rem;
        margin-top: 2.5em;
        margin-bottom: 0.75em;
    }

    .prose h3 {
        font-size: 1.25rem;
        margin-top: 2em;
        margin-bottom: 0.6em;
    }

    .prose h4 {
        font-size: 1.1rem;
        margin-top: 1.75em;
        margin-bottom: 0.5em;
    }

    .prose ul {
        margin-top: 0.5em;
        margin-bottom: 1.5em;
        padding-left: 1.5em;
        list-style-type: disc;
    }

    .prose ol {
        margin-top: 0.5em;
        margin-bottom: 1.5em;
        padding-left: 1.5em;
        list-style-type: decimal;
    }

    .prose li {
        margin-bottom: 0.5em;
    }

    .prose blockquote {
        border-left: 3px solid hsl(var(--border));
        padding-left: 1.25em;
        margin: 1.5em 0;
        font-style: italic;
        color: hsl(var(--foreground-muted));
    }

    .prose hr {
        border: none;
        border-top: 1px solid hsl(var(--border));
        margin: 2.5em 0;
    }

    .prose a {
        color: hsl(var(--accent));
        text-decoration: none;
        transition: color 0.15s ease;
    }

    .prose a:hover {
        color: hsl(var(--accent-hover));
        text-decoration: underline;
        text-underline-offset: 3px;
        text-decoration-thickness: 1px;
    }

    .prose code:not(pre code) {
        background-color: hsl(var(--code-background));
        color: hsl(var(--code-foreground));
        padding: 0.2em 0.4em;
        border-radius: 4px;
        font-size: 0.85em;
    }

    .prose pre {
        background-color: hsl(var(--code-background));
        color: hsl(var(--code-foreground));
        padding: 1.25em 1.5em;
        border-radius: 8px;
        overflow-x: auto;
        margin: 1.5em 0;
        font-size: 0.8rem;
        line-height: 1.6;
    }

    .prose table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5em 0;
        font-size: 0.9rem;
    }

    .prose th,
    .prose td {
        padding: 0.75em 1em;
        border: 1px solid hsl(var(--border));
        text-align: left;
    }

    .prose th {
        background-color: hsl(var(--code-background));
        font-weight: 600;
    }

    .prose img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        margin: 1.5em 0;
    }
}

@layer utilities {
    .text-muted {
        color: hsl(var(--foreground-muted));
    }

    .text-subtle {
        color: hsl(var(--foreground-subtle));
    }

    .border-border {
        border-color: hsl(var(--border));
    }
}